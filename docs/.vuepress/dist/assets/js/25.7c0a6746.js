(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{212:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"git搭建服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git搭建服务器","aria-hidden":"true"}},[t._v("#")]),t._v(" git搭建服务器")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137583770360579bc4b458f044ce7afed3df579123eca000",target:"_blank",rel:"noopener noreferrer"}},[t._v("git搭建服务器 教程"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"先安装git"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#先安装git","aria-hidden":"true"}},[t._v("#")]),t._v(" 先安装git")]),t._v(" "),e("p",[t._v("sudo apt-get install git")]),t._v(" "),e("h2",{attrs:{id:"建个git-用户名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建个git-用户名","aria-hidden":"true"}},[t._v("#")]),t._v(" 建个git 用户名")]),t._v(" "),e("p",[t._v("sudo adduser git")]),t._v(" "),e("h2",{attrs:{id:"创建证书登录："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建证书登录：","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建证书登录：")]),t._v(" "),e("p",[t._v("收集所有需要登录的用户的公钥，就是他们自己的id_rsa.pub文件，把所有公钥导入到/home/git/.ssh/authorized_keys文件里，一行一个。")]),t._v(" "),e("h2",{attrs:{id:"初始化git仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始化git仓库","aria-hidden":"true"}},[t._v("#")]),t._v(" 初始化Git仓库")]),t._v(" "),e("p",[t._v("先选定一个目录作为Git仓库，假定是/srv/sample.git，在/srv目录下输入命令：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo git init --bare sample.git\n\nsudo chown -R git:git sample.git\n")])])]),e("h2",{attrs:{id:"禁用shell登录："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#禁用shell登录：","aria-hidden":"true"}},[t._v("#")]),t._v(" 禁用shell登录：")]),t._v(" "),e("p",[t._v("通过编辑/etc/passwd")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("git:x:1001:1001:,,,:/home/git:/bin/bash\n改为：\n\ngit:x:1001:1001:,,,:/home/git:/usr/bin/git-shell\n")])])]),e("h2",{attrs:{id:"克隆远程仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#克隆远程仓库","aria-hidden":"true"}},[t._v("#")]),t._v(" 克隆远程仓库")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("git clone git@server:/srv/sample.git\n")])])])])},[],!1,null,null,null);a.default=r.exports}}]);